PREFIX mo: <http://purl.org/ontology/mo/>
PREFIX frbr: <http://purl.org/vocab/frbr/core#>
PREFIX dct: <http://purl.org/dc/terms/>
INSERT {
    GRAPH <http://127.0.0.1:8890/slickmem_item_creators> { 
        ?workuri frbr:creator ?creatoruri .
        ?creatoruri rdfs:label ?creatorname .
        ?creatoruri <http://127.0.0.1:8890/salt/in_salt_set> <http://127.0.0.1:8890/saltsets/slickmem_item_creators> .
    }
}
WHERE { 
 ?workuri a mo:MusicalWork ;
          dct:title ?worktitle;
          frbr:creator ?creatorname .
          BIND(IRI(CONCAT(STR(?workuri), "_creator")) as ?creatoruri) .
#Alternative to use the last part of the work URI as a creator URI:
#BIND(IRI(CONCAT("http://127.0.0.1:8890/slickmem_item_creators/", strafter(strafter(strafter(strafter(strafter(strafter(str(?workuri), "//"), "/"), "/"), "/"), "/"), "/"))) as ?creatoruri)
  # This strafter business is clearly horrendous; investigate xpf:local-name instead: http://docs.openlinksw.com/virtuoso/xpf_local_name.html
}

